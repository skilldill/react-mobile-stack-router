(this["webpackJsonpreact-mobile-stack-router-example"]=this["webpackJsonpreact-mobile-stack-router-example"]||[]).push([[0],[,function(e,t,a){e.exports={screen:"screens_screen__36rK9",screenButton:"screens_screenButton__Is7y6",firstScreen:"screens_firstScreen__2oXBh",secondScreen:"screens_secondScreen__1cmue",thirdScreen:"screens_thirdScreen__2Ep1E"}},,,,function(e,t,a){e.exports=a(15)},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(6);var n=a(0),c=a.n(n),r=a(4),s=a.n(r),o=(a(14),a(2)),i=a.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=Object(n.createContext)({activeStack:void 0,stackMap:{},platform:"ios",params:void 0,setActiveStack:function(){},push:function(){},back:function(){},addStack:function(){}}),m=function(e){var t=e.children,a=e.platform,r=Object(n.useState)({}),s=r[0],o=r[1],i=Object(n.useState)(),m=i[0],d=i[1],f=Object(n.useState)(),h=f[0],k=f[1],v={activeStack:m,stackMap:s,platform:a||"ios",params:h,setActiveStack:d,back:function(e){var t=l({},s);t[e].history[t[e].history.length-1].state="closing",o(t);var a=setTimeout((function(){var t=l({},s);t[e].history.pop(),o(t),clearTimeout(a)}),200)},push:function(e,t,a){a&&k(a);var n=l({},s);n[e].history.push({name:t,state:"show"}),o(n)},addStack:function(){var e=!1;return function t(a){if(!e)return e=!0,o((function(e){var t;return l({},e,((t={})[a]={history:[]},t))})),!m&&d(a),void(e=!1);t(a)}}()};return c.a.createElement(u.Provider,{value:v},t)},d=function(e){var t=Object(n.useContext)(u);return{push:function(a,n){return t.push(e,a,n)},back:function(){return t.back(e)}}},f=function(e){var t=Object(n.useContext)(u);return l({},{push:function(a){return t.push(e,a)},back:function(){return t.back(e)}},{platform:t.platform,stackMap:t.stackMap,activeStack:t.activeStack,addStack:t.addStack,setActiveStack:t.setActiveStack})},h="_39DUa",k="_1GHk1",v="_26wGM",S="_1tIAF",p="_1Hpl3",E="_B3nA7",b="_2X9Aq",y="_XnuB-",T=function(e){var t={startX:0,startY:0,translateX:0,translateY:0,transition:!1};e&&(t=l({},t,e));var a=t,c=a.startX,r=a.startY,s=a.translateX,o=a.translateY,i=a.transition,u=Object(n.useState)(c),m=u[0],d=u[1],f=Object(n.useState)(r),h=f[0],k=f[1],v=Object(n.useState)(s),S=v[0],p=v[1],E=Object(n.useState)(o),b=E[0],y=E[1],T=Object(n.useState)(i),N=T[0],_=T[1],g=Object(n.useCallback)((function(e,t,a,n){void 0===t&&(t=s),void 0===a&&(a=o),void 0===n&&(n=400),new Promise((function(c){_(!0),y(a),p(t),e&&e();var r=setTimeout((function(){c(r)}),n)})).then((function(e){clearTimeout(e),_(!1)}))}),[]);return{handleTouchStart:Object(n.useCallback)((function(e){return function(t){var a=t.touches[0],n=a.clientX,c=a.clientY;e&&e(),d(n),k(c)}}),[d,k]),handleTouchMove:Object(n.useCallback)((function(e){return function(t){var a=t.touches[0],n=a.clientX,c=a.clientY-h;p(S+(n-m)),y(b+c),e&&e()}}),[m,h,p,y]),handleTouchEnd:function(e){return function(){e&&e()}},addTransitionAnimation:g,setStateTranslateX:p,setStateTranslateY:y,setStateTransition:_,setStateStartX:d,setStateStartY:k,stateStartX:m,stateStartY:h,stateTranslateX:S,stateTranslateY:b,stateTransition:N}},N=function(e){var t,a=e.children,n=e.index,r=e.closing,s=e.animated,o=e.stackName,l=f(o),u=T(),m=u.handleTouchStart,d=u.handleTouchMove,h=u.handleTouchEnd,v=u.stateStartX,S=u.stateTranslateX;return c.a.createElement("div",{onTouchStart:m(),onTouchMove:d(),onTouchEnd:h((function(){s&&v<100&&S-v>=100&&l.back()})),className:i()((t={},t[k]=!0,t[b]=s,t[y]=r,t)),style:{zIndex:1e3+n}},a)},_=function(e){var t,a=e.children,n=e.index,r=e.closing,s=e.translated,o=e.animated,l=e.stackName,u=f(l),m=T(),d=m.handleTouchStart,h=m.handleTouchMove,k=m.handleTouchEnd,b=m.stateStartX,y=m.stateTranslateX;return c.a.createElement("div",{onTouchStart:d(),onTouchMove:h(),onTouchEnd:k((function(){o&&b<100&&y-b>=100&&u.back()})),className:i()((t={},t[v]=!0,t[S]=o,t[p]=r,t[E]=s,t)),style:{zIndex:1e3+n}},a)},g=function(e){var t=e.children,a=e.name,r=f(a),s=r.addStack,o=r.activeStack,i=r.stackMap,l=r.platform;Object(n.useEffect)((function(){s(a)}),[]);var u=function(e){var t={};return e.map((function(e){t[e.props.name]=e})),t}(t);return"android"===l?c.a.createElement("div",{className:h,style:{display:o===a?"block":"none"}},c.a.createElement(N,{stackName:a,index:0},t[0]),!!i&&!!i[a]&&i[a].history.length>0&&i[a].history.map((function(e,t){return c.a.createElement(N,{stackName:a,animated:!0,key:t,index:t,closing:"closing"===e.state},u[e.name])}))):c.a.createElement("div",{className:h,style:{display:o===a?"block":"none"}},c.a.createElement(_,{stackName:a,index:0,translated:i[a]&&i[a].history.length>0&&"show"===i[a].history[i[a].history.length-1].state},t[0]),!!i&&!!i[a]&&i[a].history.length>0&&i[a].history.map((function(e,t){return c.a.createElement(_,{stackName:a,animated:!0,key:t,index:t,closing:"closing"===e.state,translated:t!==i[a].history.length-1&&"show"===i[a].history[i[a].history.length-1].state},u[e.name])})))},O=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,t)},j="_2VEnB",X="_2XNd9",x="_1BWoH",C="_7zO5-",A=function(e){var t=e.children;return c.a.createElement("div",{className:X},t)},B=function(e){var t=e.children,a=e.onChange,r=e.classTabbar,s=e.styleTabbar,o=Object(n.useState)(0),l=o[0],u=o[1],m=r?i()([x,r]):x;return c.a.createElement("div",{className:j},t[l],c.a.createElement("div",{className:m,style:s},c.a.createElement("div",{className:C},t.map((function(e,t){return c.a.createElement("div",{key:t,onClick:function(){return n=t,c=e.props.name,u(n),void(a&&a(c));var n,c}},t===l?e.props.titleActive:e.props.title)})))))},M=a(1),Y=a.n(M),w=function(e){var t=e.stackName,a=d(t);return c.a.createElement("div",{className:i()([Y.a.screen,Y.a.firstScreen])},c.a.createElement("button",{className:Y.a.screenButton,onClick:function(){a.push("settings",{id:1})}},"Second screen"))},I=function(e){var t=e.stackName,a=d(t),r=Object(n.useContext)(u).params.id;Object(n.useEffect)((function(){console.log(r)}),[r]);return c.a.createElement("div",{className:i()([Y.a.screen,Y.a.secondScreen])},c.a.createElement("button",{className:Y.a.screenButton,onClick:function(){a.push("profile")}},"Thrid screen"))},F=function(e){var t=e.stackName,a=d(t);return c.a.createElement("div",{className:i()([Y.a.screen,Y.a.thirdScreen])},c.a.createElement("button",{className:Y.a.screenButton,onClick:a.back},"Back"))},z=function(){var e={changeStack:Object(n.useContext)(u).setActiveStack}.changeStack;return c.a.createElement(B,{onChange:e},c.a.createElement(A,{name:"firstStack",title:"First",titleActive:"FIRST"},c.a.createElement(g,{name:"firstStack",key:"firstStack"},c.a.createElement(O,{name:"home"},c.a.createElement(w,{stackName:"firstStack"})),c.a.createElement(O,{name:"settings"},c.a.createElement(I,{stackName:"firstStack"})),c.a.createElement(O,{name:"profile"},c.a.createElement(F,{stackName:"firstStack"})))),c.a.createElement(A,{name:"secondStack",title:"Second",titleActive:"SECOND"},c.a.createElement(g,{name:"secondStack",key:"secondStack"},c.a.createElement(O,{name:"home"},c.a.createElement(w,{stackName:"secondStack"})),c.a.createElement(O,{name:"settings"},c.a.createElement(I,{stackName:"secondStack"})),c.a.createElement(O,{name:"profile"},c.a.createElement(F,{stackName:"secondStack"})))))},H=function(){return c.a.createElement(m,{platform:"ios"},c.a.createElement(z,null))},P=function(){return c.a.createElement(H,null)};s.a.render(c.a.createElement(P,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.ce75c4d4.chunk.js.map